<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RateIntel - Revenue Intelligence</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="desktop">
    <!-- Main Window -->
    <div class="window" id="mainWindow">
      <div class="title-bar">
        <span class="title-bar-text">RateIntel v1.0</span>
        <div class="title-bar-controls">
          <button>_</button>
          <button>‚ñ°</button>
          <button>√ó</button>
        </div>
      </div>
      
      <div class="window-body">
        <!-- Tabs -->
        <div class="tabs">
          <button class="tab active" data-tab="dashboard">üìä Dashboard</button>
          <button class="tab" data-tab="hotels">üè® Hoteles</button>
          <button class="tab" data-tab="alerts">üîî Alertas</button>
          <button class="tab" data-tab="ai">ü§ñ IA</button>
        </div>
        
        <!-- Dashboard Tab -->
        <div class="tab-content active" id="dashboard">
          <div class="section-title">Comparativa de Tarifas</div>
          
          <div class="date-selector">
            <label>Fecha check-in:</label>
            <input type="date" id="checkInDate">
            <button class="btn" onclick="loadRates()">Actualizar</button>
            <button class="btn" onclick="triggerScrape()">üîÑ Scrape Now</button>
          </div>
          
          <div class="rate-grid" id="rateGrid">
            <div class="loading">Cargando tarifas...</div>
          </div>
          
          <div class="stats-bar" id="statsBar">
            <!-- Stats will be inserted here -->
          </div>
          
          <div class="chart-container">
            <canvas id="priceChart"></canvas>
          </div>
        </div>
        
        <!-- Hotels Tab -->
        <div class="tab-content" id="hotels">
          <div class="section-title">Gestionar Hoteles</div>
          
          <div class="form-group">
            <fieldset>
              <legend>Agregar Hotel</legend>
              <div class="form-row">
                <label>Nombre:</label>
                <input type="text" id="hotelName" placeholder="Hotel Casa San Agust√≠n">
              </div>
              <div class="form-row">
                <label>Ciudad:</label>
                <input type="text" id="hotelCity" placeholder="Cartagena de Indias">
              </div>
              <div class="form-row">
                <label>URL Booking:</label>
                <input type="text" id="hotelUrl" placeholder="https://www.booking.com/hotel/co/...">
              </div>
              <div class="form-row">
                <label>
                  <input type="checkbox" id="isOwnHotel"> Es mi hotel (no competidor)
                </label>
              </div>
              <button class="btn" onclick="addHotel()">Agregar</button>
            </fieldset>
          </div>
          
          <div class="hotel-list" id="hotelList">
            <!-- Hotels will be listed here -->
          </div>
        </div>
        
        <!-- Alerts Tab -->
        <div class="tab-content" id="alerts">
          <div class="section-title">Configurar Alertas</div>
          
          <div class="form-group">
            <fieldset>
              <legend>Nueva Alerta</legend>
              <div class="form-row">
                <label>Hotel:</label>
                <select id="alertHotel"></select>
              </div>
              <div class="form-row">
                <label>Umbral (%):</label>
                <input type="number" id="alertThreshold" value="10" min="1" max="100">
              </div>
              <div class="form-row">
                <label>
                  <input type="checkbox" id="alertEmail" checked> Notificar por email
                </label>
              </div>
              <div class="form-row">
                <label>
                  <input type="checkbox" id="alertWhatsapp"> Notificar por WhatsApp
                </label>
              </div>
              <div class="form-row" id="whatsappNumberRow" style="display: none;">
                <label>N√∫mero WhatsApp:</label>
                <input type="tel" id="alertWhatsappNumber" placeholder="+573001234567">
              </div>
              <button class="btn" onclick="createAlert()">Crear Alerta</button>
            </fieldset>
          </div>
          
          <div class="alert-list" id="alertList">
            <!-- Alerts will be listed here -->
          </div>
          
          <div class="section-title" style="margin-top: 20px;">Historial de Alertas</div>
          <div class="alert-history" id="alertHistory">
            <!-- Alert history will be listed here -->
          </div>
        </div>
        
        <!-- AI Tab -->
        <div class="tab-content" id="ai">
          <div class="section-title">Recomendaci√≥n de Precio con IA</div>
          
          <div class="form-group">
            <fieldset>
              <legend>Solicitar Recomendaci√≥n</legend>
              <div class="form-row">
                <label>Tu Hotel:</label>
                <select id="aiHotel"></select>
              </div>
              <div class="form-row">
                <label>Fecha:</label>
                <input type="date" id="aiDate">
              </div>
              <button class="btn" onclick="getAiRecommendation()">ü§ñ Obtener Recomendaci√≥n</button>
            </fieldset>
          </div>
          
          <div class="ai-result" id="aiResult">
            <!-- AI recommendation will appear here -->
          </div>
        </div>
      </div>
      
      <div class="status-bar">
        <span id="statusText">Listo</span>
        <span id="lastUpdate"></span>
      </div>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
</body>
</html>
